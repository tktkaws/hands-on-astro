---
import Layout from "../layouts/Layout.astro";
import { newtClient } from "../lib/newt";
import type { Article } from "../lib/newt";
import Button from "../components/Button.astro";

const { items: articles } = await newtClient.getContents<Article>({
	appUid: "blog",
	modelUid: "article",
	query: {
		select: ["title", "slug", "body"],
	},
});
---

<Layout title="Newt・Astroブログ" description="NewtとAstroを利用したブログです">
	<main>
		<ul>
			{
				articles.map((article) => {
					return (
						<li>
							<a href={`/articles/${article.slug}`}>
								{article.title}
							</a>
						</li>
					);
				})
			}
		</ul>
		<div class="grid place-items-center h-screen content-center">
			<Button>Tailwind Button in Astro!</Button>
		</div>
	</main>
</Layout>
